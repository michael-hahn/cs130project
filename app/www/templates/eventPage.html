<ion-view title="Event Page ({{images.length}} Pictures)" ng-init="">
	<ion-nav-buttons side="left">
		<button class="button button-icon icon ion-arrow-left-a" ng-click="goBack()"></button>

	</ion-nav-buttons>


	<ion-nav-buttons side="right">
		<button class="button button-icon icon ion-camera" ng-click="upload()"></button>

	</ion-nav-buttons>

	<div class="bar bar-subheader" ng-if="isHost()">
		<div class="button-bar">
	        <button ng-click="endEvent()" class="button button-assertive" ng-if="eventActive == 1">
	            End Event
	        </button>
	        <button ng-click="reactivateEvent()" class="button button-balanced" ng-if="eventActive == 0">
	            Reactivate Event
	        </button>
	    </div>
    </div>

	<ion-content ng-class="{'has-subheader': isHost(), 'has-footer':true}" has-bouncing="true">
		<div class="row" ng-repeat="image in images" ng-if="$index % 4 === 0">
			<div class="col col-25" ng-if="$index < images.length">
				<a href="" ng-click="viewPhoto(images[$index], $index)">
					<div id="container">
						<img id="image_container" ng-src="{{images[$index].image}}" />
						<div id="overlay_circle_container">
							<img id="profile_pic" ng-src="{{images[$index].profilePicture}}" ng-if="images[$index].profilePicture !== '' " />
							<img id="profile_pic" ng-src="./img/blank-profile.png" ng-if="images[$index].profilePicture === '' " />
						</div>
					</div>
				</a>

				<div class="button-bar">
  					<a ng-click="like(images, images[$index])" ng-if="eventActive == 1" class="{{getLikeIcon(images[$index])}}" > 
  						Likes: {{images[$index].numLikes}}
  					</a>    				
  				</div>
			</div>

			<div class="col col-25" ng-if="$index + 1 < images.length">
				<a href="" ng-click="viewPhoto(images[$index + 1], $index + 1)">
					<div id="container">
						<img id="image_container" ng-src="{{images[$index + 1].image}}" />
						<div id="overlay_circle_container">
							<img id="profile_pic" ng-src="{{images[$index + 1].profilePicture}}" ng-if="images[$index + 1].profilePicture !== '' " />
							<img id="profile_pic" ng-src="./img/blank-profile.png" ng-if="images[$index + 1].profilePicture === '' " />
						</div>
					</div>
				</a>
				<div class="button-bar">
  					<a ng-click="like(images, images[$index+1])" ng-if="eventActive == 1" class="{{getLikeIcon(images[$index+1])}}" > 
  						Likes: {{images[$index+1].numLikes}}
  					</a>    				
  				</div>
			</div>

			<div class="col col-25" ng-if="$index + 2 < images.length">
				<a href="" ng-click="viewPhoto(images[$index + 2], $index + 2)">
					<div id="container">
						<img id="image_container" ng-src="{{images[$index + 2].image}}" />
						<div id="overlay_circle_container">
							<img id="profile_pic" ng-src="{{images[$index + 2].profilePicture}}" ng-if="images[$index + 2].profilePicture !== '' " />
							<img id="profile_pic" ng-src="./img/blank-profile.png" ng-if="images[$index + 2].profilePicture === '' " />
						</div>
					</div>
				</a>
				<div class="button-bar">
  					<a ng-click="like(images, images[$index+2])" ng-if="eventActive == 1" class="{{getLikeIcon(images[$index+2])}}" > 
  						Likes: {{images[$index+2].numLikes}}
  					</a>    				
  				</div>
			</div>

			<div class="col col-25" ng-if="$index + 3 < images.length">
				<a href="" ng-click="viewPhoto(images[$index + 3], $index + 3)">
					<div id="container">
						<img id="image_container" ng-src="{{images[$index + 3].image}}" />
						<div id="overlay_circle_container">
							<img id="profile_pic" ng-src="{{images[$index + 3].profilePicture}}" ng-if="images[$index + 3].profilePicture !== '' " />
							<img id="profile_pic" ng-src="./img/blank-profile.png" ng-if="images[$index + 3].profilePicture === '' " />
						</div>
					</div>
				</a>	
				<div class="button-bar">
  					<a ng-click="like(images, images[$index+3])" ng-if="eventActive == 1" class="{{getLikeIcon(images[$index+3])}}" > 
  						Likes: {{images[$index+3].numLikes}}
  					</a>    				
  				</div>
			</div>
		</div>
	</ion-content>

	<div class="bar bar-footer">
		<div class="button-bar">
			<button class="button button-clear icon ion-information-circled" ng-click="eventInfo()">
			</button>
			<button class="button button-clear icon ion-ios-people" ng-click="eventUserList()">     
			</button>
    	</div>
	</div>
</ion-view>