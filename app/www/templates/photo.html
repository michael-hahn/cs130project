<ion-view class="backgroundGradient">
	<ion-header-bar class="bar bar-header barOrange">
		<h1 class="title vantageHeader" style="font-size: 2em">{{currIndex + 1}} / {{photosArr.length}}</h1>

		<div class="buttons">
			<button class="button button-assertive" ng-click="close()">Close</button>
		</div>
	</ion-header-bar>

	<ion-content class="has-header">
		<div class="padding">

			<ion-slide-box ng-if="photosArr" on-slide-changed="photoChanged($index)" active-slide="activePhoto" show-pager="false">

				<ion-slide ng-repeat="photo in photosArr">
					<a href="" ng-click="viewProfile(photo.userInfo)">
						<div class="item item-avatar" style="border: none; background: none; background-image: none">
			    			<img src="{{photo.userInfo.profilePicture}}" ng-if="photo.userInfo.profilePicture !== '' ">
					    	<img src="./img/blank-profile.png" ng-if="photo.userInfo.profilePicture === '' "/>
					    	
					    	<h2 style="font-family: 'CenturyGothic', sans-serif; color: white">{{photo.userInfo.displayName}}</h2>
					    	<p style="font-family: 'CenturyGothic', sans-serif; color: white">{{photo.time}}</p>
					  	</div>
				  	</a>

				 	<div class="item item-image" style="border: none; background: none; background-image: none">
					  <ion-scroll zooming="true" direction="xy" scrollbar-x="false" scrollbar-y="false" min-zoom="1" id="scrolly"  style="width: 100%; height: 100%;">
			    		<img ng-src="{{photo.image}}" style="width:350px;height:400px" />
					  </ion-scroll>
				  	</div>

				  	<div class="item tabs tabs-secondary tabs-icon-left" style="border: none; background: none; background-image: none">
			  			<a class="tab-item" href="" ng-click="like(photo)" style="font-family: 'CenturyGothic', sans-serif; color: white">
			  				<i class="{{getLikeIcon(photo)}}"></i>
			  				{{photo.numLikes}}
			  			</a>
			  	</div>
			  	<div class="list padding" style="font-family: 'CenturyGothic', sans-serif; color: white; border: none; background: none; background-image: none">

						<div class="item item-input-insert" style="border: none; background: none; background-image: none">
							<label class="item-input-wrapper">
								<textarea name="styled-textarea" id="styled" style="resize: none" onfocus="this.value=''; setbg('#e5fff3');" onblur="setbg('white')" ng-model="comments" placeholder="Make a comment"></textarea>
							</label>
							<button class="button button-small" ng-click="addComments(photo,comments)"><!--addComments(photo, comments)-->
								Submit
							</button>
						</div>
						Show Comments: <input type="checkbox" ng-model="checked" aria-label="Toggle ngShow">
						<br/>
						<div>
							<div class="check-element animate-hide" ng-show="checked">
								<ion-list>
									<ion-item class="item-text-wrap" ng-repeat="c in comment track by $index" ng-if="c != null">
										{{(c.info).displayName}} commented: 
										<p>
											{{c.data}}
										</p>
	        						</ion-item>
	    						</ion-list>
							</div>
						</div>
						<div>
								<div class="check-element animate-hide" ng-hide="checked">
									Check out what other people in this event have said about this photo by clicking the box above!
								</div>
						</div>
	        		</div>
				</ion-slide>
				
			</ion-slide-box>

		</div>

	</ion-content>
</ion-view>
